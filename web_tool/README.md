# AI å·¥å…· Web ç•Œé¢

ä¸€ä¸ªç°ä»£åŒ–çš„ Web ç•Œé¢ï¼Œç”¨äºè°ƒç”¨å’Œç®¡ç† AI å·¥å…·ï¼Œç‰¹åˆ«æ˜¯ ai-json-generator å·¥å…·ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”§ **æ¨¡å—åŒ–å·¥å…·ç³»ç»Ÿ**: æ”¯æŒå¤šç§ AI å·¥å…·ï¼Œæ–¹ä¾¿æ‰©å±•
- ğŸ“ **æ™ºèƒ½æ¨¡æ¿ç®¡ç†**: æ”¯æŒ Jinja2 æ¨¡æ¿ï¼Œå®æ—¶é¢„è§ˆå’Œå˜é‡å¡«å†™
- ğŸ“Š **CSV æ•°æ®æ”¯æŒ**: æ‰¹é‡å¤„ç†æ•°æ®ï¼Œæ”¯æŒæ–‡ä»¶ä¸Šä¼ å’Œåœ¨çº¿ç¼–è¾‘
- ğŸš€ **å®æ—¶æ‰§è¡Œç›‘æ§**: WebSocket å®æ—¶æ—¥å¿—è¾“å‡ºï¼Œæ”¯æŒæ‰§è¡Œæ§åˆ¶
- ğŸ“ **ç»“æœç®¡ç†**: åœ¨çº¿æŸ¥çœ‹ã€ä¸‹è½½å•ä¸ªæ–‡ä»¶æˆ–æ‰¹é‡ä¸‹è½½
- ğŸ¨ **ç°ä»£åŒ– UI**: å“åº”å¼è®¾è®¡ï¼Œç¾è§‚æ˜“ç”¨
- ğŸ”„ **å®æ—¶é€šä¿¡**: WebSocket æ”¯æŒï¼Œå®æ—¶è·å–æ‰§è¡ŒçŠ¶æ€

## é¡¹ç›®ç»“æ„

```
web_tool/
â”œâ”€â”€ backend/                 # åç«¯ Flask åº”ç”¨
â”‚   â”œâ”€â”€ app/                # åº”ç”¨ä¸»æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ routes.py       # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ socket_events.py # WebSocket äº‹ä»¶å¤„ç†
â”‚   â”œâ”€â”€ tools/              # å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ base_tool.py    # å·¥å…·åŸºç±»
â”‚   â”‚   â””â”€â”€ ai_json_generator_tool.py # AI JSON Generator å·¥å…·
â”‚   â”œâ”€â”€ config/             # é…ç½®æ¨¡å—
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ run.py              # åº”ç”¨å¯åŠ¨å…¥å£
â”œâ”€â”€ frontend/               # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/                # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/     # ç»„ä»¶æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ services/       # æœåŠ¡æ¨¡å—
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ static/             # é™æ€èµ„æº
â”‚   â””â”€â”€ index.html          # ä¸»é¡µé¢
â””â”€â”€ shared/                 # å…±äº«èµ„æº
    â”œâ”€â”€ templates/          # æ¨¡æ¿æ–‡ä»¶
    â”œâ”€â”€ uploads/            # ä¸Šä¼ æ–‡ä»¶
    â””â”€â”€ outputs/            # è¾“å‡ºæ–‡ä»¶
```

## å®‰è£…å’Œè¿è¡Œ

### 1. å®‰è£…åç«¯ä¾èµ–

```bash
cd backend
pip install -r requirements.txt
```

### 2. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend
python run.py
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:5000` å¯åŠ¨ã€‚

### 3. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd frontend
python -m http.server 8080
```

å‰ç«¯æœåŠ¡å°†åœ¨ `http://localhost:8080` å¯åŠ¨ã€‚

### 4. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:8080`

## ä½¿ç”¨è¯´æ˜

### 1. é€‰æ‹©å·¥å…·

åœ¨ä¸»é¡µé¢é€‰æ‹©è¦ä½¿ç”¨çš„ AI å·¥å…·ï¼Œç›®å‰æ”¯æŒï¼š
- **AI JSON Generator**: ONNX æ¨¡å‹ NPU è½¬æ¢å·¥å…·ç”¨ä¾‹è®¾è®¡åŠ©æ‰‹

### 2. é…ç½®æ¨¡æ¿

- **é€‰æ‹©ç°æœ‰æ¨¡æ¿**: ä»ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹©é¢„è®¾æ¨¡æ¿
- **ä¸Šä¼ æ–°æ¨¡æ¿**: æ”¯æŒ `.txt` æ ¼å¼çš„ Jinja2 æ¨¡æ¿æ–‡ä»¶
- **å¡«å†™å˜é‡**: ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«æ¨¡æ¿ä¸­çš„å˜é‡å¹¶æä¾›è¾“å…¥æ¡†

### 3. æ•°æ®é…ç½®

æ”¯æŒä¸¤ç§æ•°æ®è¾“å…¥æ¨¡å¼ï¼š

#### æ‰‹åŠ¨æ¨¡å¼
ç›´æ¥åœ¨ç•Œé¢ä¸­å¡«å†™æ¨¡æ¿å˜é‡çš„å€¼

#### CSV æ¨¡å¼
- é€‰æ‹©ç°æœ‰ CSV æ–‡ä»¶æˆ–ä¸Šä¼ æ–°æ–‡ä»¶
- CSV æ–‡ä»¶çš„åˆ—ååº”ä¸æ¨¡æ¿å˜é‡åå¯¹åº”
- æ”¯æŒæ‰¹é‡å¤„ç†å¤šè¡Œæ•°æ®

### 4. é¢„è§ˆå’Œæ‰§è¡Œ

- **å®æ—¶é¢„è§ˆ**: æŸ¥çœ‹æ¨¡æ¿æ¸²æŸ“åçš„æ•ˆæœ
- **å¼€å§‹æ‰§è¡Œ**: ç‚¹å‡»æ‰§è¡ŒæŒ‰é’®å¼€å§‹å·¥å…·è°ƒç”¨
- **å®æ—¶æ—¥å¿—**: æŸ¥çœ‹å·¥å…·æ‰§è¡Œçš„å®æ—¶è¾“å‡º
- **åœæ­¢æ‰§è¡Œ**: å¯éšæ—¶åœæ­¢æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡

### 5. ç»“æœæŸ¥çœ‹

- **æ–‡ä»¶åˆ—è¡¨**: æŸ¥çœ‹ç”Ÿæˆçš„æ‰€æœ‰æ–‡ä»¶
- **åœ¨çº¿æŸ¥çœ‹**: æ”¯æŒæ–‡æœ¬æ–‡ä»¶çš„åœ¨çº¿é¢„è§ˆ
- **å•æ–‡ä»¶ä¸‹è½½**: ä¸‹è½½å•ä¸ªç»“æœæ–‡ä»¶
- **æ‰¹é‡ä¸‹è½½**: å°†æ‰€æœ‰ç»“æœæ‰“åŒ…ä¸‹è½½

## API æ¥å£

### RESTful API

- `GET /api/health` - å¥åº·æ£€æŸ¥
- `GET /api/tools` - è·å–å·¥å…·åˆ—è¡¨
- `GET /api/templates` - è·å–æ¨¡æ¿åˆ—è¡¨
- `GET /api/templates/{name}` - è·å–æ¨¡æ¿å†…å®¹
- `POST /api/upload/template` - ä¸Šä¼ æ¨¡æ¿æ–‡ä»¶
- `POST /api/upload/csv` - ä¸Šä¼  CSV æ–‡ä»¶
- `POST /api/template/preview` - æ¨¡æ¿é¢„è§ˆ
- `POST /api/tools/{name}/execute` - æ‰§è¡Œå·¥å…·ï¼ˆåŒæ­¥ï¼‰
- `GET /api/outputs/{id}` - è·å–æ‰§è¡Œç»“æœ

### WebSocket äº‹ä»¶

- `execute_tool_async` - å¼‚æ­¥æ‰§è¡Œå·¥å…·
- `execution_started` - æ‰§è¡Œå¼€å§‹
- `execution_log` - æ‰§è¡Œæ—¥å¿—
- `execution_completed` - æ‰§è¡Œå®Œæˆ
- `execution_error` - æ‰§è¡Œé”™è¯¯
- `stop_execution` - åœæ­¢æ‰§è¡Œ

## æ·»åŠ æ–°å·¥å…·

è¦æ·»åŠ æ–°çš„ AI å·¥å…·ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ï¼š

### 1. åˆ›å»ºå·¥å…·ç±»

```python
# backend/tools/your_tool.py
from .base_tool import BaseTool

class YourTool(BaseTool):
    def validate_params(self, params):
        # éªŒè¯å‚æ•°
        pass
    
    def build_command(self, params):
        # æ„å»ºæ‰§è¡Œå‘½ä»¤
        pass
    
    def get_supported_templates(self):
        # è¿”å›æ”¯æŒçš„æ¨¡æ¿
        pass
    
    def get_output_files(self, output_dir):
        # è¿”å›è¾“å‡ºæ–‡ä»¶åˆ—è¡¨
        pass
```

### 2. æ³¨å†Œå·¥å…·

```python
# backend/tools/__init__.py
from .your_tool import YourTool

TOOL_REGISTRY = {
    'your_tool': YourTool,
    # ... å…¶ä»–å·¥å…·
}
```

### 3. é…ç½®å·¥å…·

```python
# backend/config/config.py
TOOLS_CONFIG = {
    'your_tool': {
        'name': 'Your Tool',
        'description': 'å·¥å…·æè¿°',
        'executable': 'your-tool-command',
        'templates_supported': True,
        'csv_supported': True
    }
}
```

## å¼€å‘å’Œè°ƒè¯•

### å¼€å‘æ¨¡å¼

åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹è°ƒè¯•å·¥å…·ï¼š

```javascript
// æµè§ˆå™¨æ§åˆ¶å°
window.debug.status()      // è·å–åº”ç”¨çŠ¶æ€
window.debug.export()      // å¯¼å‡ºé…ç½®
window.debug.components    // è®¿é—®ç»„ä»¶
window.debug.services     // è®¿é—®æœåŠ¡
```

### æ—¥å¿—çº§åˆ«

- `INFO`: å¸¸è§„ä¿¡æ¯
- `WARNING`: è­¦å‘Šä¿¡æ¯  
- `ERROR`: é”™è¯¯ä¿¡æ¯
- `SUCCESS`: æˆåŠŸä¿¡æ¯

## æŠ€æœ¯æ ˆ

### åç«¯
- **Flask**: Web æ¡†æ¶
- **Flask-SocketIO**: WebSocket æ”¯æŒ
- **Flask-CORS**: è·¨åŸŸæ”¯æŒ
- **Pandas**: æ•°æ®å¤„ç†
- **Jinja2**: æ¨¡æ¿å¼•æ“

### å‰ç«¯
- **Vanilla JavaScript**: åŸç”Ÿ JavaScript
- **Bootstrap 5**: UI æ¡†æ¶
- **Socket.IO**: WebSocket å®¢æˆ·ç«¯
- **Prism.js**: ä»£ç è¯­æ³•é«˜äº®
- **Font Awesome**: å›¾æ ‡åº“

## éƒ¨ç½²è¯´æ˜

### ç”Ÿäº§ç¯å¢ƒ

1. ä½¿ç”¨ WSGI æœåŠ¡å™¨ï¼ˆå¦‚ Gunicornï¼‰è¿è¡Œåç«¯
2. ä½¿ç”¨ Nginx ä½œä¸ºåå‘ä»£ç†å’Œé™æ€æ–‡ä»¶æœåŠ¡å™¨
3. é…ç½® HTTPS è¯ä¹¦
4. è®¾ç½®é€‚å½“çš„ç¯å¢ƒå˜é‡

### Docker éƒ¨ç½²

```dockerfile
# ç¤ºä¾‹ Dockerfile
FROM python:3.9
COPY backend /app/backend
COPY frontend /app/frontend
WORKDIR /app/backend
RUN pip install -r requirements.txt
EXPOSE 5000
CMD ["python", "run.py"]
```

## å¸¸è§é—®é¢˜

### Q: WebSocket è¿æ¥å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼Œç¡®ä¿ç«¯å£ 5000 å¯è®¿é—®ã€‚

### Q: æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥æ–‡ä»¶å¤§å°æ˜¯å¦è¶…è¿‡é™åˆ¶ï¼ˆ16MBï¼‰ï¼Œæ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚

### Q: å·¥å…·æ‰§è¡Œå¤±è´¥ï¼Ÿ
A: æŸ¥çœ‹æ‰§è¡Œæ—¥å¿—ï¼Œç¡®ä¿ ai-json-generator å·¥å…·å·²æ­£ç¡®å®‰è£…å¹¶å¯æ‰§è¡Œã€‚

### Q: æ¨¡æ¿å˜é‡è¯†åˆ«é”™è¯¯ï¼Ÿ
A: ç¡®ä¿ä½¿ç”¨æ ‡å‡†çš„ Jinja2 è¯­æ³• `{{ variable_name }}`ã€‚

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
